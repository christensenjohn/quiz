<!DOCTYPE html>
<html>
<head>
    <!-- Din eksisterende head-sektion... -->
</head>
<body>
    <h1>Gæt og Grimasser Spil</h1>
    <div class="container">
        <!-- Din eksisterende HTML-struktur... -->
        <label for="minutter">Tid i minutter:</label>
        <input type="text" id="minutter" placeholder="Indtast minutter" />
        <button class="button" id="startKnap">Start</button>
        <div id="timerLabel">Tid tilbage:</div>
        <div id="timer">0 minutter og 0 sekunder</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var tidUdloebetLyd = new Audio('tidudloebet.mp3'); // Filen 'tidudloebet.mp3' ligger i rodmappen
            var tikTakLyd = new Audio('tik-tak.mp3'); // Filen 'tik-tak.mp3' ligger i rodmappen
            var tid = 0; // Initial værdi for timeren
            var timerInterval;
            document.getElementById('timer').style.visibility = "hidden"; // Skjul timeren ved start

            document.getElementById('startKnap').addEventListener('click', function() {
                var indtastedeMinutter = parseFloat(document.getElementById('minutter').value.replace(',', '.'));
                if (!isNaN(indtastedeMinutter) && indtastedeMinutter > 0) {
                    tid = indtastedeMinutter * 60; // Konverter minutter til sekunder
                    document.getElementById('timer').style.visibility = "visible"; // Gør timeren synlig
                    startNedtælling();
                    this.disabled = true;
                    document.getElementById('minutter').disabled = true;
                }
            });

            function startNedtælling() {
                timerInterval = setInterval(function() {
                    if (tid <= 0) {
                        afslutNedtælling();
                    } else {
                        document.getElementById('timer').textContent = formatTid(tid);
                        tid--;
                        if (tid === 5) {
                            // Start tik-tak lyden 5 sekunder før tidudløbet
                            tikTakLyd.play();
                        } else if (tid === 0) {
                            // Stop tik-tak lyden når tiden udløber
                            tikTakLyd.pause();
                            tikTakLyd.currentTime = 0;
                        }
                    }
                }, 1000);
            }

            function afslutNedtælling() {
                clearInterval(timerInterval);
                tidUdloebetLyd.play();
                tid = 0;
                document.getElementById('startKnap').disabled = false;
                document.getElementById('minutter').disabled = false;
                document.getElementById('timer').style.visibility = "hidden"; // Skjul timeren igen
                tikTakLyd.pause(); // Stop tik-tak lyden
                tikTakLyd.currentTime = 0;
            }

            function formatTid(sekunder) {
                var minutter = Math.floor(sekunder / 60);
                var restSekunder = sekunder % 60;
                return minutter + " minutter og " + restSekunder + " sekunder";
            }
        });
    </script>
</body>
</html>
